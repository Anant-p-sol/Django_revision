{% extends 'base.html' %}
{% block title %}
{{ block.super }} - Home page
{% endblock title %}

   {% block content %}

<div class="container py-5">
  <div class="card card-glass mx-auto p-5 shadow-lg border-0 rounded-4">
    <form action="{% url 'save_data' %}" method="POST">
      {% csrf_token %}
      {% include 'component/showMessages.html' %}

      <!-- Form Header -->
      <div class="text-center mb-4">
        <h3 class="fw-bold text-gradient">
          <i class="bi bi-journal-plus"></i> Add a New Note
        </h3>
        <p class="text-muted mb-0">Organize your thoughts and ideas here ðŸ§©</p>
      </div>

      <!-- Note Title -->
      <div class="mb-4">
        <label for="title" class="form-label fw-semibold">
        <i class="bi bi-sticky"></i>
           Note Title 
        </label>
        <input
          type="text"
          id="title"
          name="Title"
          class="form-control"
          placeholder="Enter your Note Title"
          required
        />
      </div>

      <!-- Note Content -->
      <div class="mb-4">
        <label for="content" class="form-label fw-semibold">
          <i class="bi bi-card-text"></i> Note Content
        </label>
        <textarea
          id="content"
          name="Description"
          class="form-control"
          rows="5"
          placeholder="Write your note details here..."
          required
        ></textarea>
      </div>

      <!-- Submit Button -->
      <div class="text-center mt-4">
        <button type="submit" style=" width: 100%" class="btn btn-primary btn-rounded shadow-sm px-4">
          <i class="bi bi-plus-circle"></i> Add Note
        </button>
      </div>
    </form>
  </div>
</div>



<!-- ðŸ“š Notes List -->
<div class="container py-5">
  <div class="card card-glass p-5">
    <h2 class="text-center fw-bold mb-5 text-gradient">
      ðŸ§  Your Notes Collection ({{ notes|length }})
    </h2>

    {% if notes %}
      <div class="row g-4">
        {% for note in notes %}
          <div class="col-md-4">
            <div class="card note-card border-0 rounded-4 shadow-md p-3 card-glass">
              <div class="card-body">
                <h5 class="card-title fw-bold text-dark">
                  <i class="bi bi-sticky"></i> {{ note.title }}
                </h5>
                <p class="card-text text-muted mt-2" style="min-height: 80px;">
                  {{ note.description }}
                </p>
              </div>
              <div
                class="card-footer d-flex justify-content-between align-items-center border-0"
              >
                <small class="text-secondary">
                  <i class="bi bi-calendar-event"></i>
                  {{ note.created_at|date:"M d, Y H:i" }}
                </small>
                <div>
                  <button
                    class="btn btn-outline-primary btn-sm btn-rounded me-2"
                  >
                    <i class="bi bi-pencil-square"></i>
                  </button>
                  <a href="{% url 'delete_data' id=note.id %}"class="btn btn-outline-danger btn-sm btn-rounded">
                    <i class="bi bi-trash"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-center py-5">
        <i class="bi bi-emoji-frown display-4 text-secondary"></i>
        <p class="mt-3 fs-5 text-muted">
          No notes yet. Time to add your first thought ðŸ’¡
        </p>
        <a href="{% url 'save_data' %}" class="btn btn-success btn-rounded shadow">
          <i class="bi bi-plus-circle"></i> Add Your First Note
        </a>
      </div>
    {% endif %}
  </div>
</div>

{% endblock content %}
